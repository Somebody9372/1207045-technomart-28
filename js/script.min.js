var writeLink = document.querySelector(".contacts-button"), writePopup = document.querySelector(".write"), writeClose = writePopup.querySelector(".write-button-close"), writeForm = writePopup.querySelector(".write-form"), writeLogin = writePopup.querySelector(".write-input-name"), writePassword = writePopup.querySelector(".write-input-password"), isStorageSupport = !0, storage = ""; try { storage = localStorage.getItem("name-filed") } catch (e) { isStorageSupport = !1 } writeLink.addEventListener("click", function (e) { e.preventDefault(), writePopup.classList.add("write-show"), storage ? (writeLogin.value = storage, writePassword.focus()) : writeLogin.focus() }), writeClose.addEventListener("click", function (e) { e.preventDefault(), writePopup.classList.remove("write-show"), writePopup.classList.remove("write-error") }), writeForm.addEventListener("submit", function (e) { writeLogin.value && writePassword.value ? isStorageSupport && localStorage.setItem("name-filed", writeLogin.value) : (e.preventDefault(), writePopup.classList.remove("write-error"), writePopup.offsetWidth, writePopup.classList.add("write-error")) }), window.addEventListener("keydown", function (e) { 27 === e.keyCode && writePopup.classList.contains("write-show") && (e.preventDefault(), writePopup.classList.remove("write-show"), writePopup.classList.remove("write-error")) });
